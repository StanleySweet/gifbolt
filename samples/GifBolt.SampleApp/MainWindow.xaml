<!-- SPDX-License-Identifier: MIT -->
<Window x:Class="GifBolt.SampleApp.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:gifbolt="clr-namespace:GifBolt.Wpf;assembly=GifBolt.Wpf"
        Title="GifBolt WPF Sample - DirectX 11 Backend" Height="700" Width="850">
    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <StackPanel Grid.Row="0" Margin="0,0,0,20">
            <TextBlock Text="GifBolt - WPF Sample" FontSize="24" FontWeight="Bold" HorizontalAlignment="Center"/>
            <TextBlock Text="Cross-platform GIF rendering with DirectX 11 (Windows)"
                       HorizontalAlignment="Center" Foreground="Gray" Margin="0,5,0,0"/>
        </StackPanel>

        <!-- Main Content -->
        <TabControl Grid.Row="1">
            <!-- Custom Control Tab -->
            <TabItem Header="Custom Control">
                <ScrollViewer VerticalScrollBarVisibility="Auto">
                    <StackPanel Margin="20">
                        <TextBlock Text="GifBoltControl Example" FontSize="16" FontWeight="Bold"/>
                        <TextBlock Text="Using the direct GifBoltControl API" Foreground="Gray" Margin="0,5,0,15"/>

                        <Border BorderBrush="Gray" BorderThickness="1" Width="450" Height="350"
                                HorizontalAlignment="Left" Margin="0,0,0,15">
                            <Border.Background>
                                <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                    <GradientStop Color="#FFE3F2FD" Offset="0"/>
                                    <GradientStop Color="#FF90CAF9" Offset="1"/>
                                </LinearGradientBrush>
                            </Border.Background>
                            <gifbolt:GifBoltControl x:Name="GifControl"
                                                   AutoStart="True"
                                                   Loop="True"/>
                        </Border>

                        <StackPanel Orientation="Horizontal" Margin="0,10,0,0">
                            <TextBlock Text="Scaling Filter:" VerticalAlignment="Center" FontWeight="SemiBold" Margin="0,0,10,0"/>
                            <ComboBox x:Name="FilterComboBox" SelectedIndex="3" Width="120" SelectionChanged="OnFilterChanged">
                                <ComboBoxItem Content="Nearest"/>
                                <ComboBoxItem Content="Bilinear"/>
                                <ComboBoxItem Content="Bicubic"/>
                                <ComboBoxItem Content="Lanczos"/>
                            </ComboBox>
                        </StackPanel>

                        <StackPanel Orientation="Horizontal" Margin="0,10,0,0">
                            <Button Content="Play" Click="OnPlay" Width="80" Margin="0,0,10,0"/>
                            <Button Content="Pause" Click="OnPause" Width="80" Margin="0,0,10,0"/>
                            <Button Content="Stop" Click="OnStop" Width="80" Margin="0,0,10,0"/>
                            <Button Content="Load..." Click="OnLoadGif" Width="80"/>
                        </StackPanel>
                    </StackPanel>
                </ScrollViewer>
            </TabItem>

            <!-- Attached Properties Tab -->
            <TabItem Header="Attached Properties">
                <ScrollViewer VerticalScrollBarVisibility="Auto">
                    <StackPanel Margin="20">
                        <TextBlock Text="ImageBehavior Example (WpfAnimatedGif Compatible)"
                                   FontSize="16" FontWeight="Bold"/>
                        <TextBlock Text="Using attached properties on standard Image controls"
                                   Foreground="Gray" Margin="0,5,0,15"/>

                        <TextBlock Text="✅ Live Demo: Image control with gifbolt:ImageBehavior.AnimatedSource"
                                   FontWeight="SemiBold" Margin="0,10,0,5"/>

                        <Border BorderBrush="Gray" BorderThickness="1" Width="450" Height="350"
                                HorizontalAlignment="Left" Margin="0,0,0,15">
                            <Border.Background>
                                <SolidColorBrush Color="#22000000"/>
                            </Border.Background>
                            <Image x:Name="ImageBehaviorImage"
                                   gifbolt:ImageBehavior.AutoStart="True"
                                   gifbolt:ImageBehavior.RepeatBehavior="Forever"/>
                        </Border>

                        <TextBlock TextWrapping="Wrap" Foreground="Gray" Margin="0,10,0,15">
                            The above Image uses attached properties for WpfAnimatedGif compatibility.
                            Drop in any standard WPF Image control!
                        </TextBlock>

                        <Border BorderBrush="Green" BorderThickness="2" CornerRadius="5"
                                Padding="15" Margin="0,10,0,0">
                            <Border.Background>
                                <SolidColorBrush Color="#22008000"/>
                            </Border.Background>
                            <StackPanel>
                                <TextBlock Text="✨ Now Available!" FontWeight="Bold" Foreground="LightGreen"/>
                                <TextBlock TextWrapping="Wrap" Foreground="#DDFFFFFF" Margin="0,5,0,0">
                                    ImageBehavior attached properties are now fully functional:
                                </TextBlock>
                                <TextBlock FontFamily="Consolas,Courier New" Foreground="#DDFFFFFF" Margin="10,10,0,0">
                                    &lt;Image gifbolt:ImageBehavior.AnimatedSource="file.gif"
                                </TextBlock>
                                <TextBlock FontFamily="Consolas,Courier New" Foreground="#DDFFFFFF" Margin="10,0,0,0">
                                           gifbolt:ImageBehavior.RepeatBehavior="Forever"
                                </TextBlock>
                                <TextBlock FontFamily="Consolas,Courier New" Foreground="#DDFFFFFF" Margin="10,0,0,0">
                                           gifbolt:ImageBehavior.AutoStart="True"/&gt;
                                </TextBlock>
                            </StackPanel>
                        </Border>
                    </StackPanel>
                </ScrollViewer>
            </TabItem>

            <!-- Info Tab -->
            <TabItem Header="System Info">
                <ScrollViewer VerticalScrollBarVisibility="Auto">
                    <StackPanel Margin="20">
                        <!-- Backend Information -->
                        <TextBlock Text="Backend Information" FontSize="16" FontWeight="Bold"/>
                        <StackPanel Margin="0,10,0,0">
                            <TextBlock x:Name="BackendInfo" Text="Backend: DirectX 11" Margin="0,0,0,5"/>
                            <TextBlock Text="Platform: Windows" Margin="0,0,0,5"/>
                            <TextBlock Text="Renderer: Direct3D 11 (GPU-accelerated)" Margin="0,0,0,5"/>
                            <TextBlock Text="Framework: WPF (.NET Framework 4.7.2)" Margin="0,0,0,5"/>
                        </StackPanel>

                        <!-- Version Information -->
                        <Separator Margin="0,15,0,15"/>
                        <TextBlock Text="Native Library Version" FontSize="16" FontWeight="Bold"/>
                        <StackPanel Margin="0,10,0,0">
                            <TextBlock x:Name="VersionInfo" Text="Loading version..." Margin="0,0,0,5"/>
                            <TextBlock x:Name="VersionDetails" Text="" TextWrapping="Wrap" Foreground="Gray"/>
                        </StackPanel>
                    </StackPanel>
                </ScrollViewer>
            </TabItem>
        </TabControl>

        <!-- Status Bar -->
        <Border Grid.Row="2" BorderBrush="Gray" BorderThickness="0,1,0,0" Padding="10" Margin="0,20,0,0">
            <TextBlock x:Name="StatusText" Text="Ready" Foreground="Gray"/>
        </Border>
    </Grid>
</Window>
